<app-page-title	[title]="breadCrumbTitle"	[breadcrumbItems]="breadCrumbItems"></app-page-title>
<div class="container-fluid">
  <div class="card card-body"  *ngIf="cuentaBanco">
    <h5 class="card-title mb-3 pb-3 border-bottom">Detalle de Cuenta Bancaria</h5>
    <div class="nav col-12 border-bottom">
      <div class="col-4 mb-2 px-1">
        <p class="ps-2">
          <span class="fw-semibold semi" >Nro de Cuenta:</span>
          <span class="text-primary"> {{cuentaBanco.nroCuenta}}</span>
        </p>
      </div>
      <div class="col-4 mb-3 px-1">
        <p class="ps-2">
          <span class="fw-semibold semi" >Banco:</span>
          <span class="text-primary"> {{cuentaBanco.banco.nombre}}</span>
        </p>
      </div>
      <div class="col-4 mb-3 px-1">
        <p class="ps-2">
          <span class="fw-semibold semi" >Fecha de Apertura:</span>
          <span class="text-primary"> {{cuentaBanco.createdAt | fechaSimple}}</span>
        </p>
      </div>
      <div class="col-4 mb-3 px-1">
        <p class="ps-2">
          <span class="fw-semibold semi" >Moneda: </span>
          <span class="text-primary"> {{cuentaBanco.moneda.nombre}}</span>
        </p>
      </div>
      <div class="col-4 mb-3 px-1">
        <p class="ps-2">
          <span class="fw-semibold semi" >Descripci√≥n:</span>
          <span class="text-primary"> {{cuentaBanco.descripcion}}</span>
        </p>
      </div>
      <div class="col-4 mb-3 px-1">
        <p class="ps-2">
          <span class="fw-semibold semi" >Saldo:</span>
          <span class="text-primary"> {{cuentaBanco.saldo}}</span>
        </p>
      </div>
    </div>
    <div class="col-12">
      <krn-tabla
        #tabla
        [titulo]="titulo"
        [datosService]="movimientoCuentaBancoService"
        getAll="getAllMovimientos"
        [formato]="formato"
        [textoBuscar]="textoBuscar"
        [isSubtable]="rel_prefix ? true : false"
        [templateFila]="undefined"
        [smallTable]="false"
        [softDelete]="false"
        (crearNuevo)="(null)"
        (alCrear)="(null)"
        (alRefrescar)="refrescar()"
        (alFiltrar)="(null)"
        (alEditar)="(null)"
        campoEstado="estado"
        valueEstado="habilitado"
        (alHabilitar)="(null)"
        (alDeshabilitar)="(null)"
        (alEliminar)="(null)"
        [conOpciones]="false"
        [botonExportar]="false"
        [botonImportar]="false"
        [botonNuevo]="false"
        [templateFila]="templateFila"
        [idRuta]="cuentaBancoId">
      </krn-tabla>
      <ng-template #templateFila let-fila="fila" let-cabeceras="cabeceras">
        <ng-template ngFor let-campo [ngForOf]="cabeceras">
          <ng-template
            *ngIf="formato.cabeceras[campo].visibleCheck; then tempTD"
          ></ng-template>
          <ng-template #tempTD>
            <td [ngSwitch]="campo">
              <div *ngSwitchCase="'createdAt'">
                {{ fila.createdAt | fechaSimple }}
              </div>
              <div *ngSwitchCase="'fecha'">
                {{ fila.fecha | fechaSimple }}
              </div>
              <div *ngSwitchCase="'monto'" class="text-end" [ngClass]="{'text-success': fila.ingresoEgreso == 'INPUT', 'text-danger': fila.ingresoEgreso == 'OUT'}">
                {{fila.monto}}
              </div>
              <div *ngSwitchCase="'saldo'" class="text-end">
                {{fila.saldo}}
              </div>
              <div *ngSwitchCase="'medioTransferencia'">
                {{ fila.medioTransferencia?.medio || 'INICIALIZACION' }}
              </div>
              <div *ngSwitchCase="'estadoContabilidad'">
                {{ fila.estadoContabilidad?.nombre }}
              </div>
              <div *ngSwitchCase="'estado'">
                <div *ngIf="!fila.deleted" class="badge bg-success font-size-10">
                  <i class="mdi mdi-lock-open me-1"></i> Habilitado
                </div>
                <div *ngIf="fila.deleted" class="badge bg-danger font-size-10">
                  <i class="mdi mdi-lock me-1"></i> Inhabilitado
                </div>
              </div>
              <div *ngSwitchDefault>
                {{ fila[campo] }}
              </div>
            </td>
          </ng-template>
        </ng-template>
      </ng-template>
    </div>
  </div>
</div>

